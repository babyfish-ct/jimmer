---
sidebar_position: 1
title: 定义Repository
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';


Jimmer整合了spring data，为Java用户和Kotlin用户各自提供了一个Repository基接口。

<table>
    <tr>
        <td>Java</td>
        <td>org.babyfish.jimmer.spring.repository.JRepository&lt;E, ID&gt;</td>
    </tr>
    <tr>
        <td>Kotlin</td>
        <td>org.babyfish.jimmer.spring.repository.KRepository&lt;E, ID&gt;</td>
    </tr>
</table>

无论Java版还是Kotlin版，接口具备两个范型参数
- E: 实体类型
- ID: 实体ID类型

通过继承此接口，开发人员可以快速实现各种Repository

-   BookStoreRepository
    
    <Tabs groupId="language">
    <TabItem value="java" label="Java">

    ```java title="BookStoreRepostory.java"
    package com.example.repository;

    import com.example.model.BookStore;

    import org.babyfish.jimmer.spring.repository.JRepository;

    public interface BookRepository extends JRepository<BookStore, Long> {}
    ```

    </TabItem>
    <TabItem value="kotlin" label="Kotlin">
    
    ```kotlin title="BookStoreRepostory.kt"
    package com.example.repository

    import com.example.model.BookStore

    import org.babyfish.jimmer.spring.repository.KRepository

    interface BookRepository : KRepository<BookStore, Long>
    ```

    </TabItem>
    </Tabs>

-   BookRepository
    
    <Tabs groupId="language">
    <TabItem value="java" label="Java">

    ```java title="BookRepostory.java"
    package com.example.repository;

    import com.example.model.Book;

    import org.babyfish.jimmer.spring.repository.JRepository;

    public interface BookRepository extends JRepository<Book, Long> {}
    ```

    </TabItem>
    <TabItem value="kotlin" label="Kotlin">
    
    ```kotlin title="BookRepostory.kt"
    package com.example.repository

    import com.example.model.Book

    import org.babyfish.jimmer.spring.repository.KRepository

    interface BookRepository : KRepository<Book, Long>
    ```

    </TabItem>
    </Tabs>

-   AuthorRepository
    
    <Tabs groupId="language">
    <TabItem value="java" label="Java">

    ```java title="AuthorRepostory.java"
    package com.example.repository;

    import com.example.model.Auhtor;

    import org.babyfish.jimmer.spring.repository.JRepository;

    public interface AuthorRepository extends JRepository<Author, Long> {}
    ```

    </TabItem>
    <TabItem value="kotlin" label="Kotlin">
    
    ```kotlin title="AuthorRepostory.kt"
    package com.example.repository

    import com.example.model.Author

    import org.babyfish.jimmer.spring.repository.KRepository

    interface AuthorRepository : KRepository<Author, Long>
    ```

    </TabItem>
    </Tabs>

-   TreeNodeRepository
    
    <Tabs groupId="language">
    <TabItem value="java" label="Java">

    ```java title="TreeNodeRepostory.java"
    package com.example.repository;

    import com.example.model.TreeNode;

    import org.babyfish.jimmer.spring.repository.JRepository;

    public interface TreeNodeRepository extends JRepository<TreeNode, Long> {}
    ```

    </TabItem>
    <TabItem value="kotlin" label="Kotlin">
    
    ```kotlin title="TreeNodeRepostory.kt"
    package com.example.repository

    import com.example.model.TreeNode

    import org.babyfish.jimmer.spring.repository.KRepository

    interface TreeNodeRepository : KRepository<TreeNode, Long>
    ```

    </TabItem>
    </Tabs>

:::note
和其他spring-data相同，定义好接口即可，**无需**用`@org.springframework.stereotype.Repository`修饰。Jimmer会自动实现这些接口并注册到Spring中。

但是有一个注意事项：

- 默认情况下，自定义Repository所属的必须是SpringBoot主类所在包或其子包。

- 否则，需要用`@org.babyfish.jimmer.spring.repository.EnableJimmerRepositories`修饰SpringBoot主类或其他Spring配置类，明确指定自定义Repository接口所在的包。
:::
